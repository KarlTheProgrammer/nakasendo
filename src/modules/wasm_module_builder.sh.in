#!/bin/sh
WASM_BITCODE_FILE=$1
WASM_OUTPUT_FILE=$2
echo -- Emscripten Build files : [$WASM_BITCODE_FILE]
${emcc_EXECUTABLE} ${WASM_LIST_CPP_FILES} -lssl -lcrypto -L ${OPENSSL_WASM_ROOT_CMAKE_DIR}/lib -I ${OPENSSL_WASM_ROOT_CMAKE_DIR}/include -I ${CMAKE_SOURCE_DIR}/depends/json -I ${CMAKE_SOURCE_DIR}/src/core -I ${SDK_GENERATED_HPP_DIR} -std=c++11 -s WASM=1 -s EXPORT_ALL=1 -o $WASM_BITCODE_FILE
echo -- Emscripten Build files : [$WASM_OUTPUT_FILE]
${emar_EXECUTABLE} r $WASM_OUTPUT_FILE $WASM_BITCODE_FILE
